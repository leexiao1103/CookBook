(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{283:function(e,t,a){e.exports=a(502)},501:function(e,t,a){},502:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(73),o=a.n(l),c=a(18),i=a(19),s=a(21),u=a(20),d=a(22),m=a(127),p=a.n(m),g=(a(334),a(503),{apiKey:"AIzaSyBphJkcqS8IX5nDmEjoCiNiNt-EYfkoj5o",authDomain:"cookbooktest-4fea9.firebaseapp.com",databaseURL:"https://cookbooktest-4fea9.firebaseio.com",projectId:"cookbooktest-4fea9",storageBucket:"cookbooktest-4fea9.appspot.com",messagingSenderId:"1003067516877"});p.a.initializeApp(g);var h=p.a.database(),b="";p.a.storage().ref().child("image.png").getDownloadURL().then(function(e){b=e}).catch(function(e){switch(e.code){case"storage/object_not_found":console.log("File doesn't exist");break;case"storage/unauthorized":console.log("User doesn't have permission to access the object");break;case"storage/canceled":console.log("User canceled the upload");break;case"storage/unknown":console.log("Unknown error occurred, inspect the server response")}});var f=function(e,t){h.ref(e).push(t)},v=a(520),E=a(517),O=a(51),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isMenuOpen:!1},a.openAddBoard=function(){var e=a.props.toggleAddBoard;a.toggleMenu(),e()},a.toggleMenu=function(){a.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},a.openDelete=function(){var e=a.props.toggleDelete;a.toggleMenu(),e()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.isMenuOpen;return r.a.createElement("div",{id:"tool_center"},r.a.createElement(v.a,{visible:e,animation:"fade left",duration:900},r.a.createElement(E.a,{icon:!0,circular:!0,id:"showaddboard",size:"huge",color:"teal",onClick:this.openAddBoard},r.a.createElement(O.a,{name:"plus",size:"large"}))),r.a.createElement(v.a,{visible:e,animation:"fade left",duration:900},r.a.createElement(E.a,{icon:!0,circular:!0,id:"deletecard",size:"huge",color:"teal",onClick:this.openDelete},r.a.createElement(O.a,{name:"trash alternate",size:"large"}))),r.a.createElement(E.a,{icon:!0,circular:!0,id:"opentool",size:"huge",color:e?"red":"blue",onClick:this.toggleMenu},r.a.createElement(O.a,{name:e?"close":"bars",size:"large"})))}}]),t}(n.PureComponent),j=a(89),D=a(515),C=a(519),y=a(275),S=a(126),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSelected:!1},a.select=function(){var e=a.props,t=e.changeDeleteTarget,n=e.id,r=!a.state.isSelected;t(n),a.setState({isSelected:r})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.isDeleteOpen,n=e.toggleCardDetail,l=e.id,o=this.state.isSelected;return r.a.createElement(C.a.Dimmable,{link:!0,as:D.a,dimmed:a,onClick:a?this.select:function(){return n(l)}},r.a.createElement(y.a,{src:b}),r.a.createElement(D.a.Content,null,r.a.createElement(D.a.Header,null,r.a.createElement("span",{className:"right floated"},r.a.createElement(S.a,{color:"orange",basic:!0},t.Spec)),t.Name),r.a.createElement(D.a.Meta,null,t.Date),r.a.createElement(D.a.Description,null,t.Desc)),r.a.createElement(C.a,{active:a},r.a.createElement(O.a,{name:"check circle outline",color:o?"green":"grey",size:"massive"})))}}]),t}(n.Component),w=a(516),B=a(512),I=a(513),z=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.steps?r.a.createElement(I.a.Group,{divided:!0},this.props.steps.map(function(e,t){return r.a.createElement(I.a,{key:t},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,null,t+1),r.a.createElement(I.a.Description,null,e)))})):null}}]),t}(n.Component),T=a(274),M=a(514),P=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.materials,t=e.filter(function(e,t){return t%2===0}),a=e.filter(function(e,t){return t%2!==0});return e?r.a.createElement(T.a,{columns:2,divided:!0},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,null,r.a.createElement(M.a,{bulleted:!0,divided:!0,verticalAlign:"middle"},t.map(function(e,t){return r.a.createElement(M.a.Item,{key:t},r.a.createElement(M.a.Content,null,e))}))),r.a.createElement(T.a.Column,null,r.a.createElement(M.a,{bulleted:!0,divided:!0,verticalAlign:"middle"},a.map(function(e,t){return r.a.createElement(M.a.Item,{key:t},r.a.createElement(M.a.Content,null,e))}))))):null}}]),t}(n.Component);P.defaultProps={materials:[]};var N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).panes=[{menuItem:"\u6750\u6599",render:function(){return r.a.createElement(w.a.Pane,null,r.a.createElement(P,{materials:a.props.data.Materials}))}},{menuItem:"\u505a\u6cd5",render:function(){return r.a.createElement(w.a.Pane,null,r.a.createElement(z,{steps:a.props.data.Steps}))}},{menuItem:"Tab 3",render:function(){return r.a.createElement(w.a.Pane,null,"Tab 3 Content")}}],a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=r.a.createElement(O.a,{name:"close",onClick:this.props.toggleCardDetail});return r.a.createElement(B.a,{open:this.props.visible,closeIcon:e},r.a.createElement(B.a.Header,null,this.props.data.Name||""),r.a.createElement(B.a.Content,{scrolling:!0},r.a.createElement(y.a,{src:b,size:"large",centered:!0,rounded:!0}),r.a.createElement(w.a,{menu:{secondary:!0,pointing:!0,fluid:!0,widths:3},panes:this.panes})))}}]),t}(n.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDeleteOpen,a=e.toggleDelete,n=e.deleteData;return r.a.createElement("div",{id:"check_delete"},r.a.createElement(v.a,{visible:t,animation:"fade left",duration:900},r.a.createElement(E.a,{icon:!0,circular:!0,size:"huge",color:"red",onClick:n},r.a.createElement(O.a,{name:"check",size:"large"}))),r.a.createElement(v.a,{visible:t,animation:"fade left",duration:900},r.a.createElement(E.a,{icon:!0,circular:!0,size:"huge",color:"blue",onClick:a},r.a.createElement(O.a,{name:"arrow right",size:"large"}))))}}]),t}(n.PureComponent),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCardDetailOpen:!1,selectCard:"",deleteTarget:[]},a.toggleCardDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=a.state.isCardDetailOpen;a.setState({isCardDetailOpen:!t,selectCard:e})},a.changeDeleteTarget=function(e){var t=a.state.deleteTarget,n=t.indexOf(e);n<0?a.setState(function(t){var a=t.deleteTarget;return{deleteTarget:[].concat(Object(j.a)(a),[e])}}):(t.splice(n,1),a.setState({deleteTarget:t}))},a.deleteData=function(e){e.map(function(e){return h.ref("mom/food/".concat(e)).remove()})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isDeleteOpen,n=t.cardData,l=t.toggleDelete,o=this.state,c=o.selectCard,i=o.isCardDetailOpen,s=o.deleteTarget,u=Object.keys(n).map(function(t){return r.a.createElement(A,{key:t,id:t,value:n[t],isDeleteOpen:a,changeDeleteTarget:e.changeDeleteTarget,toggleCardDetail:e.toggleCardDetail})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a.Group,{centered:!0},u),r.a.createElement(x,{deleteData:function(){return e.deleteData(s)},isDeleteOpen:a,toggleDelete:l}),r.a.createElement(N,{data:n[c]||{},visible:i,toggleCardDetail:this.toggleCardDetail}))}}]),t}(n.PureComponent),U=a(265),F=a(511),G=a(518),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={img:"https://firebasestorage.googleapis.com/v0/b/cookbooktest-4fea9.appspot.com/o/image.png?alt=media&token=072ea1a7-b049-4842-a0b4-3d2b0bb3c57f",name:"",spec:"",materials:[],steps:[]},a.initState=function(){a.setState({img:"https://firebasestorage.googleapis.com/v0/b/cookbooktest-4fea9.appspot.com/o/image.png?alt=media&token=072ea1a7-b049-4842-a0b4-3d2b0bb3c57f",name:"",spec:"",materials:[],steps:[]})},a.addMaterial=function(){var e=document.getElementById("foodform").material,t=a.state.materials;e.value&&(a.setState({materials:[].concat(Object(j.a)(t),[e.value])}),e.value="")},a.removeMaterial=function(e){var t=a.state.materials,n=e.currentTarget.getAttribute("data-val"),r=t.indexOf(n);t.splice(r,1),a.setState({materials:t})},a.addSteps=function(){var e=document.getElementById("foodform").step,t=a.state.steps;e.value&&(a.setState({steps:[].concat(Object(j.a)(t),[e.value])}),e.value="")},a.removeSteps=function(){var e=a.state.steps;e.pop(),a.setState({steps:e})},a.handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(U.a)({},n,r))},a.goSubmit=function(){var e=a.state,t=e.img,n=e.name,r=e.spec,l=e.materials,o=e.steps,c=a.props.toggleAddBoard,i={Date:(new Date).toLocaleDateString(),Img:t,Name:n,Spec:r,Materials:l,Steps:o};f("mom/food/",i),a.initState(),c()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleAddBoard,n=t.visible;return r.a.createElement(B.a,{open:n},r.a.createElement(B.a.Header,null,"New"),r.a.createElement(B.a.Content,{scrolling:!0},r.a.createElement(F.a,{id:"foodform",size:"big"},r.a.createElement(F.a.Input,{label:"\u7167\u7247",type:"file",accept:"image/jpeg, image/png"}),r.a.createElement(F.a.Group,{widths:"equal"},r.a.createElement(F.a.Input,{name:"name",label:"\u540d\u5b57",placeholder:"\u53d6\u500b\u540d\u5b57\u5427",onChange:this.handleChange}),r.a.createElement(F.a.Input,{name:"spec",label:"\u985e\u5225",placeholder:"\u662f\u751a\u9ebc\u6599\u7406\u5462",onChange:this.handleChange})),r.a.createElement(F.a.Input,{label:"\u6750\u6599",name:"material",placeholder:"\u9700\u8981\u4ec0\u9ebc\u5462",icon:r.a.createElement(O.a,{link:!0,color:"pink",name:"plus",onClick:this.addMaterial})}),r.a.createElement(F.a.Field,null,this.state.materials.map(function(t,a){return r.a.createElement(S.a,{key:a,color:"brown",size:"large"},t,r.a.createElement(O.a,{name:"delete","data-val":t,onClick:e.removeMaterial}))})),r.a.createElement(F.a.Input,{label:"\u505a\u6cd5",name:"step",placeholder:"\u8a72\u600e\u9ebc\u505a\u5462",icon:r.a.createElement(O.a,{link:!0,color:"green",name:"arrow right",onClick:this.addSteps})}),r.a.createElement(I.a.Group,{divided:!0},this.state.steps.map(function(e,t){return r.a.createElement(I.a,{key:t},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,null,parseInt(t)+1),r.a.createElement(I.a.Description,null,e)))})),r.a.createElement(v.a,{visible:0!==this.state.steps.length,animation:"slide down",duration:500},r.a.createElement(E.a,{attached:"bottom",onClick:this.removeSteps},r.a.createElement(O.a,{name:"close",size:"large"}))))),r.a.createElement(B.a.Actions,null,r.a.createElement(J,{toggleAddBoard:a,initState:this.initState}),r.a.createElement(E.a,{inverted:!0,color:"blue",content:"Save",onClick:this.goSubmit})))}}]),t}(n.PureComponent),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.ToggleOpen=function(){a.state.visible?a.setState({visible:!1}):a.setState({visible:!0})},a.close=function(){var e=a.props,t=e.toggleAddBoard,n=e.initState;t(),n()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,{basic:!0,onOpen:this.ToggleOpen,onClose:this.ToggleOpen,open:this.state.visible,size:"small",trigger:r.a.createElement(E.a,{inverted:!0,color:"red",content:"Cancel"})},r.a.createElement(G.a,{icon:r.a.createElement(O.a,{name:"exclamation",color:"yellow"}),content:"\u78ba\u5b9a\u53d6\u6d88\u55ce?"}),r.a.createElement(B.a.Actions,null,r.a.createElement(E.a,{basic:!0,inverted:!0,icon:"remove",color:"red",content:"No",onClick:this.ToggleOpen}),r.a.createElement(E.a,{basic:!0,inverted:!0,icon:"checkmark",color:"blue",content:"Yes",onClick:this.close})))}}]),t}(n.PureComponent),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cardData:{},isAddBoardOpen:!1,isDeleteOpen:!1},a.toggleAddBoard=function(){var e=a.state.isAddBoardOpen;a.setState(function(){return{isAddBoardOpen:!e}})},a.toggleDelete=function(){var e=a.state.isDeleteOpen;a.setState({isDeleteOpen:!e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.ref("mom/food").on("value",function(t){e.setState(function(){return{cardData:t.val()}})})}},{key:"render",value:function(){var e=this.state,t=e.cardData,a=e.isAddBoardOpen,n=e.isDeleteOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{cardData:t,isDeleteOpen:n,toggleDelete:this.toggleDelete}),r.a.createElement(k,{toggleAddBoard:this.toggleAddBoard,toggleDelete:this.toggleDelete,toggleCheckDelete:this.toggleCheckDelete}),r.a.createElement(_,{visible:a,toggleAddBoard:this.toggleAddBoard}))}}]),t}(n.PureComponent),R=a(177);n.PureComponent,a(501);o.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.c122cb29.chunk.js.map