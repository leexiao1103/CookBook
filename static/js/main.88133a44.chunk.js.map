{"version":3,"sources":["js/constants/route.js","js/components/auth/context.js","js/components/firebase/context.js","js/components/firebase/firebase.js","js/components/firebase/index.js","js/components/auth/withAuthentication.js","js/components/auth/withAuthorization.js","js/landingpage.js","js/signup.js","js/login.js","js/components/cardgroup/context.js","js/components/cardgroup/toggle.js","js/components/cardgroup/carditem.js","js/components/cardgroup/addboard/stepitem.js","js/components/cardgroup/addboard/materialitem.js","js/components/cardgroup/carddetail.js","js/components/data/context.js","js/checkclose.js","js/components/cardgroup/addboard/addboard.js","js/button.js","js/components/cardgroup/cardgroup.js","js/home.js","js/app.js","index.js"],"names":["HOME","SIGN_IN","SIGN_UP","AuthContext","React","createContext","FirebaseContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","getCurrentUser","user","uid","db","ref","concat","users","pushData","url","data","push","updateData","update","removeData","remove","getDefaultImg","storage","child","getDownloadURL","then","catch","error","code","console","log","initializeApp","database","withAuthentication","WithAuthentication","_React$Component","_getPrototypeOf2","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","loading","authUser","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","context","Provider","withAuthorization","condition","Componment","WithAuthorization","history","LandingPage","goLogin","ROUTES","goSignUp","goHomePage","Grid","textAlign","verticalAlign","style","height","Column","maxWidth","Header","as","color","Icon","name","Fragment","Button","onClick","PureComponent","INIT_STATE","username","passwordOne","passwordTwo","Signup","onChange","event","defineProperty","target","onSubmit","preventDefault","_this$state","set","objectSpread","_this$state2","isInvalid","Form","size","Segment","Input","fluid","icon","iconPosition","placeholder","type","message","disabled","Login","Loader","active","content","CardGroupContext","withCardGroup","toggleAddBoard","isAddBoardOpen","toggleDelete","isDeleteOpen","isSelected","select","_this$props","changeDeleteTarget","id","_this$props2","toggleCardDetail","Transition","animation","duration","transitionOnMount","Dimmer","Dimmable","link","Card","dimmed","Image","src","Img","width","Content","className","Label","basic","Spec","Name","Meta","Date","Description","Desc","StepItem","steps","Item","Group","divided","map","val","idx","MaterialItem","materials","leftResult","filter","elem","rightResult","columns","Row","List","bulleted","defaultProps","dataRoute","selectCard","closeicon","panes","menuItem","render","Tab","Pane","materialitem_MaterialItem","card","Materials","stepitem_StepItem","Steps","Modal","open","closeIcon","scrolling","centered","rounded","menu","secondary","pointing","widths","Actions","inverted","visible","toggleOpen","toggleFunc","onOpen","onClose","trigger","img","spec","AddBoard","addMaterial","material","document","getElementById","toConsumableArray","removeMaterial","e","currentTarget","getAttribute","index","indexOf","splice","addSteps","step","removeSteps","pop","handleChange","uploadImg","files","reader","FileReader","onload","result","readAsDataURL","clearImg","fileInput","goSubmit","toLocaleDateString","isEdit","_this$props$selectCar","selectID","accept","display","bordered","compact","htmlFor","padded","label","Field","data-val","parseInt","attached","checkclose","AddBoardButton","circular","DeleteButton","CheckDeleteButton","deleteData","CardGroup","isCardDetailOpen","deleteTarget","cardID","undefined","_ref","cards","keys","carditem","cardgroup_context","addboard","carddetail","withData","WithData","on","snapshot","off","inline","cardgroup","react_router_dom","react_router","exact","path","component","Home","ReactDOM","firebase_context","app"],"mappings":"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","file":"static/js/main.88133a44.chunk.js","sourcesContent":["export const LANDING = '/'\r\nexport const HOME = '/home'\r\nexport const SIGN_IN = '/login'\r\nexport const SIGN_UP = '/signup'\r\nexport const DEFAULT = '/defalut'\r\n\r\n","import React from 'react'\r\n\r\nconst AuthContext = React.createContext(null)\r\n\r\nexport default AuthContext\r\n","import React from 'react'\r\n\r\nconst FirebaseContext = React.createContext(null)\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>        \r\n        {firebase => <Component {...props} firebase={firebase}/>}\r\n    </FirebaseContext.Consumer>\r\n)\r\n\r\nexport default FirebaseContext\r\n\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/database'\r\nimport 'firebase/storage'\r\nimport 'firebase/auth'\r\n\r\n//正式站\r\nconst proconfig = {\r\n    apiKey: \"AIzaSyAXTQNYW2XTtgsg-tEHi_6UBc3szssqJ0c\",\r\n    authDomain: \"cookbook-6c67d.firebaseapp.com\",\r\n    databaseURL: \"https://cookbook-6c67d.firebaseio.com\",\r\n    projectId: \"cookbook-6c67d\",\r\n    storageBucket: \"cookbook-6c67d.appspot.com\",\r\n    messagingSenderId: \"855049344402\"\r\n}\r\n//測試站\r\nconst devconfig = {\r\n    apiKey: \"AIzaSyBphJkcqS8IX5nDmEjoCiNiNt-EYfkoj5o\",\r\n    authDomain: \"cookbooktest-4fea9.firebaseapp.com\",\r\n    databaseURL: \"https://cookbooktest-4fea9.firebaseio.com\",\r\n    projectId: \"cookbooktest-4fea9\",\r\n    storageBucket: \"cookbooktest-4fea9.appspot.com\",\r\n    messagingSenderId: \"1003067516877\"\r\n}\r\nconst config = process.env.NODE_ENV === 'production' ? proconfig : devconfig\r\n\r\nexport default class Firebase {\r\n    constructor() {\r\n        console.log('constructor firebase')\r\n        firebase.initializeApp(config)\r\n        this.auth = firebase.auth()\r\n        this.db = firebase.database()\r\n        this.storage = firebase.storage()\r\n    }\r\n\r\n    // *** Auth API ***\r\n    doCreateUserWithEmailAndPassword = (email, password) =>\r\n        this.auth.createUserWithEmailAndPassword(email, password)\r\n\r\n    doSignInWithEmailAndPassword = (email, password) =>\r\n        this.auth.signInWithEmailAndPassword(email, password)\r\n\r\n    doSignOut = () => this.auth.signOut()\r\n\r\n    doPasswordReset = email => this.auth.sendPasswordResetEmail(email)\r\n\r\n    doPasswordUpdate = password => this.auth.currentUser.updatePassword(password)\r\n\r\n    getCurrentUser = () => this.auth.currentUser\r\n\r\n    // *** User API ***\r\n    user = uid => this.db.ref(`users/${uid}`)\r\n\r\n    users = () => this.db.ref('users')\r\n\r\n    pushData = (url, data) => this.db.ref(url).push(data)\r\n\r\n    updateData = (url, data) => this.db.ref(url).update(data)\r\n\r\n    removeData = url => this.db.ref(url).remove()\r\n\r\n    getDefaultImg = () => {\r\n        this.storage.ref().child('image.png').getDownloadURL()\r\n            .then(url => {\r\n                return url\r\n            }).catch(function (error) {\r\n                // Handle any errors\r\n                switch (error.code) {\r\n                    case 'storage/object_not_found':\r\n                        console.log(`File doesn't exist`)\r\n                        break;\r\n\r\n                    case 'storage/unauthorized':\r\n                        console.log(`User doesn't have permission to access the object`);\r\n                        break;\r\n\r\n                    case 'storage/canceled':\r\n                        console.log(`User canceled the upload`);\r\n                        break;\r\n\r\n                    case 'storage/unknown':\r\n                        console.log(`Unknown error occurred, inspect the server response`);\r\n                        break;\r\n                }\r\n                return ''\r\n            })\r\n    }\r\n}\r\n","import FirebaseContext, { withFirebase } from './context'\r\nimport Firebase from './firebase'\r\n\r\nexport default Firebase\r\n\r\nexport { FirebaseContext, withFirebase }","import React from 'react'\r\nimport AuthContext from './context'\r\nimport { withFirebase } from '../firebase'\r\n\r\nconst withAuthentication = Component => {\r\n    class WithAuthentication extends React.Component {\r\n        state = {\r\n            loading: true,\r\n            authUser: null\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n                console.log('AUTH CHANGE')\r\n                authUser ?\r\n                    this.setState(() => ({ loading: false, authUser })) :\r\n                    this.setState(() => ({ loading: false, authUser: null }))\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            console.log('authentication unmount')\r\n            this.listener()\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <AuthContext.Provider value={this.state}>\r\n                    <Component {...this.props} loading={this.state.loading} />\r\n                </AuthContext.Provider>\r\n            )\r\n        }\r\n    }\r\n    return withFirebase(WithAuthentication)\r\n}\r\n\r\nexport default withAuthentication","import React from 'react'\r\nimport AuthContext from './context'\r\nimport { withFirebase } from '../firebase'\r\nimport * as ROUTES from '../../constants/route'\r\n\r\nconst withAuthorization = condition => Componment => {\r\n    class WithAuthorization extends React.Component {\r\n        componentDidMount() {\r\n            this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n                if (!condition(authUser))\r\n                    this.props.history.push(ROUTES.LANDING)\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            console.log('authorization unmount')\r\n            this.listener()\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <AuthContext.Consumer>\r\n                    {auth =>\r\n                        condition(auth) ? <Componment {...this.props} auth={auth} /> : null\r\n                    }\r\n                </AuthContext.Consumer>\r\n            )\r\n        }\r\n    }\r\n    return withFirebase(WithAuthorization)\r\n}\r\n\r\nexport default withAuthorization","import React, { PureComponent } from 'react'\r\nimport * as ROUTES from './constants/route'\r\nimport { Button, Icon, Grid, Header } from 'semantic-ui-react'\r\nimport { withAuthorization } from './components/auth/'\r\n\r\nclass LandingPage extends PureComponent {\r\n\r\n  componentDidMount() {\r\n    console.log('landing mount')\r\n  }\r\n\r\n  goLogin = () => this.props.history.push(ROUTES.SIGN_IN)\r\n\r\n  goSignUp = () => this.props.history.push(ROUTES.SIGN_UP)\r\n\r\n  goHomePage = () => this.props.history.push(ROUTES.HOME)\r\n\r\n  doSignOut = () => this.props.firebase.doSignOut()\r\n\r\n  render() {\r\n    console.log('render land')\r\n    const { authUser } = this.props.auth\r\n    return (\r\n      <div>\r\n        <style>{`\r\n            body > div,\r\n            body > div > div,\r\n            body > div > div > div {\r\n              height: 100%;\r\n            }\r\n          `}\r\n        </style>\r\n        <Grid textAlign='center' verticalAlign='middle' style={{ height: '100%' }}>\r\n          <Grid.Column style={{ maxWidth: 450 }}>\r\n            <Header as='h1' color='blue' textAlign='center'><Icon name='react' />練習-食譜紀錄</Header>\r\n            {\r\n              authUser ?\r\n                <React.Fragment>\r\n                  <p>歡迎回來~</p>\r\n                  <Button onClick={this.goHomePage}>進入主頁</Button>\r\n                  <Button color='green' onClick={this.doSignOut}>登出</Button>\r\n                </React.Fragment>\r\n                :\r\n                <React.Fragment>\r\n                  <Button color='red' onClick={this.goLogin}>登入</Button>\r\n                  <Button color='red' onClick={this.goSignUp}>註冊</Button>\r\n                </React.Fragment>\r\n            }\r\n          </Grid.Column>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuthorization(auth => true)(LandingPage)","import React, { PureComponent } from 'react'\r\nimport * as ROUTES from './constants/route'\r\nimport { Button, Form, Segment, Grid } from 'semantic-ui-react'\r\nimport { withAuthorization } from './components/auth'\r\n\r\nconst INIT_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    passwordTwo: '',\r\n    error: null\r\n}\r\n\r\nclass Signup extends PureComponent {\r\n    state = INIT_STATE\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit = event => {\r\n        event.preventDefault()\r\n        let { firebase } = this.props\r\n        const { username, email, passwordOne } = this.state\r\n        firebase.doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n                return firebase.user(authUser.user.uid).set({ username, email })\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INIT_STATE })\r\n                this.props.history.push(ROUTES.HOME)\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        let { username, email, passwordOne, passwordTwo, error } = this.state\r\n        const isInvalid =\r\n            passwordOne !== passwordTwo ||\r\n            passwordOne === '' ||\r\n            email === '' ||\r\n            username === ''\r\n\r\n        return (\r\n            <div>\r\n                <style>{`\r\n                    body > div,\r\n                    body > div > div,\r\n                    body > div > div > div {\r\n                    height: 100%;\r\n                    }\r\n                `}\r\n                </style>\r\n                <Grid textAlign=\"center\" verticalAlign=\"middle\" style={{ height: '100%' }}>\r\n                    <Grid.Column style={{ maxWidth: 450 }}>\r\n                        <Form size='large' onSubmit={this.onSubmit}>\r\n                            <Segment>\r\n                                <Form.Input\r\n                                    fluid\r\n                                    icon='user'\r\n                                    iconPosition='left'\r\n                                    name='username'\r\n                                    value={username}\r\n                                    onChange={this.onChange}\r\n                                    placeholder='暱稱'\r\n                                />\r\n                                <Form.Input\r\n                                    fluid\r\n                                    icon='mail'\r\n                                    iconPosition='left'\r\n                                    name='email'\r\n                                    value={email}\r\n                                    onChange={this.onChange}\r\n                                    placeholder='信箱(以此為帳號)'\r\n                                />\r\n                                <Form.Input\r\n                                    fluid\r\n                                    type='password'\r\n                                    icon='lock'\r\n                                    iconPosition='left'\r\n                                    name='passwordOne'\r\n                                    value={passwordOne}\r\n                                    onChange={this.onChange}\r\n                                    placeholder='密碼'\r\n                                />\r\n                                <Form.Input\r\n                                    fluid\r\n                                    type='password'\r\n                                    icon='lock'\r\n                                    iconPosition='left'\r\n                                    name='passwordTwo'\r\n                                    value={passwordTwo}\r\n                                    onChange={this.onChange}\r\n                                    placeholder='再次確認密碼'\r\n                                />\r\n                                {error && <p style={{ color: 'red' }}>{error.message}</p>}\r\n                                <Button\r\n                                    fluid\r\n                                    size='large'\r\n                                    color='teal'\r\n                                    type='submit'\r\n                                    disabled={isInvalid}\r\n                                >\r\n                                    Signup\r\n                                </Button>\r\n                            </Segment>\r\n                        </Form>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withAuthorization(auth => true)(Signup)\r\n","import React, { PureComponent } from 'react'\r\nimport * as ROUTES from './constants/route'\r\nimport { Button, Form, Segment, Grid, Loader } from 'semantic-ui-react'\r\nimport { withAuthorization } from './components/auth'\r\n\r\nconst INIT_STATE = {\r\n    email: '',\r\n    password: '',\r\n    error: null\r\n}\r\n\r\nclass Login extends PureComponent {\r\n    state = INIT_STATE\r\n\r\n    componentDidMount() {\r\n        const user = this.props.firebase.getCurrentUser()\r\n        if (user)\r\n            this.props.history.push(ROUTES.LANDING)\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit = event => {\r\n        event.preventDefault()\r\n        const { email, password } = this.state\r\n        const { firebase } = this.props\r\n\r\n        firebase.doSignInWithEmailAndPassword(email, password)\r\n            .then(authUser => {\r\n                this.setState({ ...INIT_STATE })\r\n                this.props.history.push(ROUTES.HOME)\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { email, password, error } = this.state\r\n        const { authUser } = this.props.auth\r\n\r\n        return (\r\n            authUser ?\r\n                <React.Fragment>\r\n                    <Loader active content='已登入，為您跳轉' />\r\n                </React.Fragment>\r\n                :\r\n                <div>\r\n                    <style>\r\n                        {`\r\n                            body > #root,\r\n                            body > #root > div ,\r\n                            body > div > div > div {\r\n                            height: 100%;\r\n                            }\r\n                        `}\r\n                    </style>\r\n                    <Grid textAlign=\"center\" verticalAlign=\"middle\" style={{ height: '100%' }}>\r\n                        <Grid.Column style={{ maxWidth: 450 }}>\r\n                            <Form size='large' onSubmit={this.onSubmit}>\r\n                                <Segment>\r\n                                    <Form.Input\r\n                                        fluid\r\n                                        icon='user'\r\n                                        iconPosition='left'\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onChange={this.onChange}\r\n                                        placeholder='E-mail'\r\n                                    />\r\n                                    <Form.Input\r\n                                        fluid\r\n                                        type='password'\r\n                                        icon='lock'\r\n                                        iconPosition='left'\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onChange={this.onChange}\r\n                                        placeholder='Password'\r\n                                    />\r\n                                    {error && <p style={{ color: 'red' }}>{error.message}</p>}\r\n                                    <Button\r\n                                        fluid\r\n                                        size='large'\r\n                                        color='teal'\r\n                                        type='submit'\r\n                                    >\r\n                                        Login\r\n                                </Button>\r\n                                </Segment>\r\n                            </Form>\r\n                        </Grid.Column>\r\n                    </Grid>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withAuthorization(auth => true)(Login)\r\n","import React from 'react'\r\n\r\nconst CardGroupContext = React.createContext(null)\r\n\r\nconst withCardGroup = Component => props => (\r\n    <CardGroupContext.Consumer>\r\n        {value =>\r\n            <Component {...props} {...value} />\r\n        }\r\n    </CardGroupContext.Consumer>\r\n)\r\n\r\nexport default CardGroupContext\r\n\r\nexport { withCardGroup }","const toggleAddBoard = state => ({ isAddBoardOpen: !state.isAddBoardOpen })\r\nconst toggleDelete = state => ({ isDeleteOpen: !state.isDeleteOpen })\r\n\r\nexport { toggleAddBoard, toggleDelete }","import React, { Component } from 'react'\r\nimport { Dimmer, Card, Image, Label, Icon, Transition } from 'semantic-ui-react'\r\nimport { withCardGroup } from '/';\r\n\r\nclass CardItem extends Component {\r\n  state = {\r\n    isSelected: false\r\n  }\r\n\r\n  select = () => {\r\n    const { changeDeleteTarget, id } = this.props\r\n\r\n    changeDeleteTarget(id)\r\n    this.setState(state => ({ isSelected: !state.isSelected }))\r\n  }\r\n\r\n  render() {\r\n    const { id, data, isDeleteOpen, toggleCardDetail } = this.props\r\n    const { isSelected } = this.state\r\n\r\n    return (\r\n      <Transition animation={'fade up'} duration={800} transitionOnMount={true}>\r\n        <Dimmer.Dimmable link as={Card} dimmed={isDeleteOpen} onClick={!isDeleteOpen ? () => toggleCardDetail(id) : this.select}>\r\n          <Image src={data.Img || ''} style={{ height: '290px', width: '290px' }} />\r\n          <Card.Content>\r\n            <Card.Header>\r\n              <span className=\"right floated\"><Label color=\"orange\" basic>{data.Spec}</Label></span>\r\n              {data.Name}\r\n            </Card.Header>\r\n            <Card.Meta>{data.Date}</Card.Meta>\r\n            <Card.Description>\r\n              {data.Desc}\r\n            </Card.Description>\r\n          </Card.Content>\r\n          <Dimmer active={isDeleteOpen} >\r\n            <Icon name='crosshairs' color={isSelected ? 'green' : 'grey'} size='massive' />\r\n          </Dimmer>\r\n        </Dimmer.Dimmable>\r\n      </Transition>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withCardGroup(CardItem)","import React, { Component } from 'react'\r\nimport { Item } from 'semantic-ui-react'\r\n\r\nexport default class StepItem extends Component {\r\n\r\n    render() {\r\n        return this.props.steps ?\r\n            <Item.Group divided>\r\n                {\r\n                    this.props.steps.map((val, idx) => {\r\n                        return (\r\n                            <Item key={idx}>\r\n                                <Item.Content>\r\n                                    <Item.Header>{idx + 1}</Item.Header>\r\n                                    <Item.Description>{val}</Item.Description>\r\n                                </Item.Content>\r\n                            </Item>\r\n                        )\r\n                    })\r\n                }\r\n            </Item.Group>\r\n            : null\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Grid, List } from 'semantic-ui-react'\r\n\r\nexport default class MaterialItem extends Component {\r\n    static defaultProps = {\r\n        materials: []\r\n    }\r\n\r\n    render() {\r\n        const { materials } = this.props\r\n        const leftResult = materials.filter((elem, idx) => (idx % 2 === 0)) \r\n        const rightResult = materials.filter((elem, idx) => (idx % 2 !== 0))\r\n\r\n        return materials ?\r\n            <Grid columns={2} divided>\r\n                <Grid.Row>\r\n                    <Grid.Column>\r\n                        <List bulleted divided verticalAlign='middle'>\r\n                            {\r\n                                leftResult.map((elem, idx) => (\r\n                                    <List.Item key={idx}>\r\n                                        <List.Content>\r\n                                            {elem}\r\n                                        </List.Content>\r\n                                    </List.Item>\r\n                                ))\r\n                            }\r\n                        </List>\r\n                    </Grid.Column>\r\n                    <Grid.Column>\r\n                        <List bulleted divided verticalAlign='middle'>\r\n                            {\r\n                                rightResult.map((elem, idx) => (\r\n                                    <List.Item key={idx}>\r\n                                        <List.Content>\r\n                                            {elem}\r\n                                        </List.Content>\r\n                                    </List.Item>\r\n                                ))\r\n                            }\r\n                        </List>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n            : null\r\n    }\r\n}","import React from 'react'\r\nimport { Tab, Modal, Image, Icon, Button, Transition } from 'semantic-ui-react'\r\nimport StepItem from './addboard/stepitem'\r\nimport MaterialItem from './addboard/materialitem'\r\nimport { withCardGroup } from './context';\r\n\r\nconst CardDetail = props => {\r\n    const { selectCard, toggleCardDetail, toggleAddBoard } = props\r\n    const closeicon = <Icon name='close' onClick={toggleCardDetail}></Icon>\r\n    const panes = [\r\n        { menuItem: '材料', render: () => <Tab.Pane><MaterialItem materials={selectCard.card.Materials} /></Tab.Pane> },\r\n        { menuItem: '做法', render: () => <Tab.Pane><StepItem steps={selectCard.card.Steps} /></Tab.Pane> },\r\n        // { menuItem: 'Tab 3', render: () => <Tab.Pane>Tab 3 Content</Tab.Pane> }\r\n    ]\r\n\r\n    return (\r\n        <Transition animation={'fade left'} duration={500} transitionOnMount={true}>\r\n            <Modal open={true} closeIcon={closeicon}>\r\n                <Modal.Header>{selectCard.card.Name || ''}</Modal.Header>\r\n                <Modal.Content scrolling>\r\n                    <Image src={selectCard.card.Img || ''} size='large' centered rounded />\r\n                    <Tab menu={{ secondary: true, pointing: true, fluid: true, widths: 2 }} panes={panes} />\r\n                </Modal.Content>\r\n                <Modal.Actions>\r\n                    <Button\r\n                        inverted\r\n                        color='violet'\r\n                        content='Edit'\r\n                        onClick={toggleAddBoard}\r\n                    />\r\n                </Modal.Actions>\r\n            </Modal>\r\n        </Transition>\r\n    )\r\n}\r\n\r\nexport default withCardGroup(CardDetail)","import React from 'react'\r\nimport { Loader } from 'semantic-ui-react'\r\nimport { withFirebase } from '../firebase';\r\n\r\nconst DataContext = React.createContext(null)\r\n\r\nconst withData = dataRoute => Component => {\r\n    class WithData extends React.Component {\r\n        state = {\r\n            loading: true,\r\n            authUser: null,\r\n            data: null\r\n        }\r\n\r\n        componentDidMount() {\r\n            const { firebase } = this.props\r\n            this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n                if (authUser) {\r\n                    firebase.user(`${authUser.uid}/${dataRoute}`).on('value', snapshot =>\r\n                        this.setState(() => ({\r\n                            loading: false, data: snapshot.val() || null, authUser\r\n                        })))\r\n                } else {\r\n                    this.setState(() => ({ loading: false, authUser: null, data: null }))\r\n                }\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            console.log('data unmount')\r\n            const { firebase } = this.props\r\n            const { authUser } = this.state\r\n            this.listener()\r\n            if (authUser)\r\n                firebase.user(`${authUser.uid}/${dataRoute}`).off()\r\n        }\r\n\r\n        render() {\r\n            console.log('render data')\r\n            const { loading, authUser, data } = this.state\r\n            return (\r\n                loading ?\r\n                    <Loader active size='small' inline='centered' />\r\n                    :\r\n                    authUser ? <Component {...this.props} data={data} /> : null\r\n            )\r\n        }\r\n    }\r\n    return withFirebase(WithData)\r\n}\r\n\r\nexport default DataContext\r\n\r\nexport { withData }","import React, { Component } from 'react'\r\nimport { Button, Icon, Modal, Header } from 'semantic-ui-react'\r\nimport { withCardGroup } from './components/cardgroup'\r\n\r\nclass CheckClose extends Component {\r\n    state = {\r\n        visible: false\r\n    }\r\n\r\n    toggleOpen = () => this.setState(state => ({ visible: !state.visible }))\r\n\r\n    render() {\r\n        const { toggleFunc } = this.props\r\n        return (\r\n            <Modal\r\n                basic\r\n                onOpen={this.toggleOpen}\r\n                onClose={this.toggleOpen}\r\n                open={this.state.visible}\r\n                size='small'\r\n                trigger={\r\n                    <Button\r\n                        inverted\r\n                        color='red'\r\n                        content='Cancel'\r\n                    />\r\n                }\r\n            >\r\n                <Header icon={<Icon name='exclamation' color='yellow'></Icon>} content='確定取消嗎?' />\r\n                <Modal.Actions>\r\n                    <Button\r\n                        basic\r\n                        inverted\r\n                        icon='remove'\r\n                        color='red'\r\n                        content='No'\r\n                        onClick={this.toggleOpen}\r\n                    >\r\n                    </Button>\r\n                    <Button\r\n                        basic\r\n                        inverted\r\n                        icon='checkmark'\r\n                        color='blue'\r\n                        content='Yes'\r\n                        onClick={toggleFunc}\r\n                    >\r\n                    </Button>\r\n                </Modal.Actions>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withCardGroup(CheckClose)","import React, { Component } from 'react'\r\nimport { Button, Icon, Modal, Form, Header, Label, Item, Transition, Segment, Image } from 'semantic-ui-react'\r\nimport { withFirebase } from '../../firebase'\r\nimport { withCardGroup } from '../'\r\nimport CheckClose from '../../../checkclose'\r\n\r\nconst INIT_STATE = {\r\n    img: '',\r\n    name: '',\r\n    spec: '',\r\n    materials: [],\r\n    steps: [],\r\n}\r\n\r\nclass AddBoard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.isEdit = false\r\n        if (this.props.selectCard.card && this.props.selectCard.id) {\r\n            const { id, card } = this.props.selectCard\r\n            this.isEdit = true\r\n            this.selectID = id\r\n            this.state = {\r\n                img: card.Img,\r\n                name: card.Name,\r\n                spec: card.Spec,\r\n                materials: card.Materials,\r\n                steps: card.Steps\r\n            }\r\n        } else {\r\n            this.state = INIT_STATE\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState(() => ({ ...INIT_STATE }))\r\n    }\r\n\r\n    addMaterial = () => {\r\n        const material = document.getElementById('foodform').material\r\n        if (material.value) {\r\n            this.setState(state => ({ materials: [...state.materials, material.value] }), () => material.value = '')\r\n        }\r\n    }\r\n\r\n    removeMaterial = (e) => {\r\n        const materials = this.state.materials\r\n        const val = e.currentTarget.getAttribute('data-val')\r\n        const index = materials.indexOf(val)\r\n\r\n        materials.splice(index, 1)\r\n        this.setState({\r\n            materials: materials\r\n        })\r\n    }\r\n\r\n    addSteps = () => {\r\n        const step = document.getElementById('foodform').step\r\n\r\n        if (step.value) {\r\n            this.setState(state => ({ steps: [...state.steps, step.value] }), () => step.value = '')\r\n        }\r\n    }\r\n\r\n    removeSteps = () => this.setState(state => {\r\n        state.steps.pop()\r\n        return { steps: state.steps }\r\n    })\r\n\r\n\r\n    handleChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    uploadImg = event => {\r\n        const { files } = event.target\r\n        if (files && files[0]) {\r\n            const reader = new FileReader()\r\n            reader.onload = e => this.setState(() => ({ img: e.target.result }))\r\n            reader.readAsDataURL(files[0])\r\n        }\r\n    }\r\n\r\n    clearImg = () => {\r\n        const fileInput = document.getElementById('upload_img')\r\n        fileInput.type = ''\r\n        fileInput.type = 'file'\r\n        this.setState(() => ({ img: '' }))\r\n    }\r\n\r\n    goSubmit = () => {\r\n        const { img, name, spec, materials, steps } = this.state\r\n        const { toggleAddBoard, firebase, selectCard } = this.props\r\n        const uid = firebase.getCurrentUser().uid\r\n        const data = {\r\n            Date: new Date().toLocaleDateString(),\r\n            Img: img,\r\n            Name: name,\r\n            Spec: spec,\r\n            Materials: materials,\r\n            Steps: steps,\r\n        }\r\n        this.isEdit ? firebase.updateData(`users/${uid}/food/${selectCard.id}`, data) : firebase.pushData(`users/${uid}/food`, data)\r\n        toggleAddBoard()\r\n    }\r\n\r\n    render() {\r\n        const { toggleAddBoard } = this.props\r\n        const { img, name, spec, materials, steps } = this.state\r\n        const isInvalid =\r\n            img === '' ||\r\n            name === '' ||\r\n            spec === '' ||\r\n            materials.length === 0 || steps.length === 0\r\n\r\n        return (\r\n            <Transition animation={'fade left'} duration={500} transitionOnMount={true}>\r\n                <Modal open={true}>\r\n                    <Modal.Header>{this.isEdit ? `修改` : `新想法`}</Modal.Header>\r\n                    <Modal.Content scrolling>\r\n                        <Form id='foodform' size='big'>\r\n                            <input\r\n                                id='upload_img'\r\n                                type='file'\r\n                                accept='image/jpeg,image/png'\r\n                                onChange={this.uploadImg}\r\n                                style={{ display: 'none' }}\r\n                            />\r\n                            {img ?\r\n                                <Segment basic textAlign='center' >\r\n                                    <Image\r\n                                        bordered\r\n                                        rounded\r\n                                        centered\r\n                                        size='large'\r\n                                        src={img}\r\n                                    />\r\n                                    <Button.Group size='medium'>\r\n                                        <Button compact icon='x' onClick={this.clearImg} />\r\n                                        <Button compact icon='redo alternate' as='label' htmlFor='upload_img' />\r\n                                    </Button.Group>\r\n                                </Segment>\r\n                                :\r\n                                <Segment secondary textAlign='center' padded='very'>\r\n                                    <Header icon='upload' size='large' />\r\n                                    <Button as='label' color='green' size='medium' htmlFor='upload_img' content='上傳圖片' />\r\n                                </Segment>\r\n                            }\r\n                            <Form.Group widths='equal'>\r\n                                <Form.Input\r\n                                    name='name'\r\n                                    label='名字'\r\n                                    placeholder='取個名字吧'\r\n                                    value={name}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                                <Form.Input\r\n                                    name='spec'\r\n                                    label='類別'\r\n                                    placeholder='是甚麼料理呢'\r\n                                    value={spec}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Input\r\n                                label='材料'\r\n                                name='material'\r\n                                placeholder='需要什麼呢'\r\n                                icon={<Icon link color={'pink'} name={'plus'} onClick={this.addMaterial}></Icon>}\r\n                            />\r\n                            <Form.Field>\r\n                                {\r\n                                    materials.map((val, idx) =>\r\n                                        (\r\n                                            <Label key={idx} color='brown' size='large'>\r\n                                                {val}\r\n                                                <Icon name='delete' data-val={val} onClick={this.removeMaterial} />\r\n                                            </Label>\r\n                                        ))\r\n                                }\r\n                            </Form.Field>\r\n                            <Form.Input\r\n                                label='做法'\r\n                                name='step'\r\n                                placeholder='該怎麼做呢'\r\n                                icon={<Icon link color={'green'} name={'arrow right'} onClick={this.addSteps}></Icon>}\r\n                            />\r\n                            <Item.Group divided>\r\n                                {\r\n                                    steps.map((val, idx) => (\r\n                                        <Item key={idx}>\r\n                                            <Item.Content>\r\n                                                <Item.Header>{parseInt(idx) + 1}</Item.Header>\r\n                                                <Item.Description>{val}</Item.Description>\r\n                                            </Item.Content>\r\n                                        </Item>\r\n                                    ))\r\n                                }\r\n                            </Item.Group>\r\n                            {steps.length !== 0 ?\r\n                                <Button attached='bottom' onClick={this.removeSteps}>\r\n                                    <Icon name='close' size='large'></Icon>\r\n                                </Button>\r\n                                : null\r\n                            }\r\n                        </Form>\r\n                    </Modal.Content>\r\n                    <Modal.Actions>\r\n                        <CheckClose toggleFunc={toggleAddBoard} />\r\n                        <Button\r\n                            disabled={isInvalid ? true : false}\r\n                            inverted\r\n                            color='blue'\r\n                            content='Save'\r\n                            onClick={this.goSubmit}\r\n                        />\r\n                    </Modal.Actions>\r\n                </Modal >\r\n            </Transition>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase((withCardGroup(AddBoard)))\r\n\r\n","import React from 'react'\r\nimport { withCardGroup } from './components/cardgroup'\r\nimport { Button, Icon, Transition } from 'semantic-ui-react'\r\n\r\nconst addBoardButton = props => (\r\n    <Transition animation={'fade left'} duration={800} transitionOnMount={true}>\r\n        <Button icon circular id=\"add_board_btn\" size=\"huge\" color=\"blue\" onClick={props.toggleAddBoard}>\r\n            <Icon name='plus' size=\"large\"></Icon>\r\n        </Button>\r\n    </Transition>\r\n)\r\n\r\nconst deleteButton = props => (\r\n    <Transition animation={'fade left'} duration={800} transitionOnMount={true}>\r\n        <Button icon circular id=\"delete_btn\" size=\"huge\" color=\"red\" onClick={props.toggleDelete}>\r\n            <Icon name='trash alternate' size=\"large\"></Icon>\r\n        </Button>\r\n    </Transition>\r\n)\r\n\r\nconst checkDeleteButton = props => (\r\n    <Transition animation={'swing up'} duration={800} transitionOnMount={true}>\r\n        <div id='check_delete_btns'>\r\n            <Button icon circular size=\"huge\" color=\"red\" onClick={props.toggleDelete}>\r\n                <Icon name=\"undo\" size=\"large\"></Icon>\r\n            </Button>\r\n            <span className='straight_line'></span>\r\n            <Button icon circular size=\"huge\" color=\"blue\" onClick={props.deleteData}>\r\n                <Icon name=\"trash alternate outline\" size=\"large\"></Icon>\r\n            </Button>\r\n        </div>\r\n    </Transition>\r\n)\r\n\r\nconst AddBoardButton = withCardGroup(addBoardButton)\r\nconst DeleteButton = withCardGroup(deleteButton)\r\nconst CheckDeleteButton = withCardGroup(checkDeleteButton)\r\n\r\nexport { AddBoardButton, DeleteButton, CheckDeleteButton }","import React, { PureComponent } from 'react'\r\nimport { Card } from 'semantic-ui-react'\r\nimport CardItem from './carditem'\r\nimport CardDetail from './carddetail'\r\nimport AddBoard from './addboard/addboard'\r\nimport { withData } from '../data'\r\nimport { AddBoardButton, DeleteButton, CheckDeleteButton } from '../../button'\r\nimport { CardGroupContext, toggleAddBoard, toggleDelete } from '.'\r\n\r\nclass CardGroup extends PureComponent {\r\n\tstate = {\r\n\t\tisAddBoardOpen: false,\r\n\t\tisDeleteOpen: false,\r\n\t\tisCardDetailOpen: false,\r\n\t\tselectID: '',\r\n\t\tdeleteTarget: []\r\n\t}\r\n\r\n\ttoggleCardDetail = (cardID = '') => this.setState(state => ({\r\n\t\tisCardDetailOpen: !state.isCardDetailOpen,\r\n\t\tselectID: cardID\r\n\t}))\r\n\r\n\tchangeDeleteTarget = (id) => {\r\n\t\tconst { deleteTarget } = this.state\r\n\t\tconst idx = deleteTarget.indexOf(id)\r\n\r\n\t\tif (idx < 0) {\r\n\t\t\tthis.setState(({ deleteTarget }) => ({\r\n\t\t\t\tdeleteTarget: [...deleteTarget, id]\r\n\t\t\t}))\r\n\t\t} else {\r\n\t\t\tdeleteTarget.splice(idx, 1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteTarget: deleteTarget\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteData = () => {\r\n\t\tconst { deleteTarget } = this.state\r\n\t\tconst { firebase } = this.props\r\n\t\tconst uid = firebase.getCurrentUser().uid\r\n\r\n\t\tdeleteTarget.map((val) => firebase.removeData(`users/${uid}/food/${val}`))\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { isCardDetailOpen, isAddBoardOpen, isDeleteOpen, selectID } = this.state\r\n\t\tconst { data } = this.props\r\n\t\tconst cards = data && Object.keys(data).map(key =>\r\n\t\t\t<CardItem\r\n\t\t\t\tkey={key}\r\n\t\t\t\tid={key}\r\n\t\t\t\tdata={data[key]}\r\n\t\t\t\ttoggleCardDetail={this.toggleCardDetail}\r\n\t\t\t/>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<CardGroupContext.Provider\r\n\t\t\t\tvalue={{\r\n\t\t\t\t\tcards: data,\r\n\t\t\t\t\tselectCard: data ? { id: selectID, card: data[selectID] } : {},\r\n\t\t\t\t\tisDeleteOpen,\r\n\t\t\t\t\ttoggleAddBoard: () => this.setState(toggleAddBoard),\r\n\t\t\t\t\ttoggleDelete: () => this.setState(toggleDelete),\r\n\t\t\t\t\tchangeDeleteTarget: this.changeDeleteTarget,\r\n\t\t\t\t\tdeleteData: this.deleteData\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Card.Group centered>\r\n\t\t\t\t\t{cards}\r\n\t\t\t\t</Card.Group>\r\n\t\t\t\t{!isDeleteOpen ?\r\n\t\t\t\t\t<div id='menu_btns'>\r\n\t\t\t\t\t\t{data ?\r\n\t\t\t\t\t\t\t<DeleteButton disabled={!!data} />\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<AddBoardButton />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<CheckDeleteButton />\r\n\t\t\t\t}\r\n\t\t\t\t{isAddBoardOpen ?\r\n\t\t\t\t\t<AddBoard />\r\n\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t\t{isCardDetailOpen ?\r\n\t\t\t\t\t<CardDetail\r\n\t\t\t\t\t\ttoggleCardDetail={this.toggleCardDetail} />\r\n\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t</CardGroupContext.Provider>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withData('food')(CardGroup)","import React from 'react'\r\nimport CardGroup from './components/cardgroup/cardgroup'\r\nimport { withAuthorization } from './components/auth'\r\n\r\nconst Home = () => (<CardGroup />)\r\n\r\nexport default withAuthorization(auth => !!auth)(Home)","import React from 'react'\r\nimport { Loader } from 'semantic-ui-react'\r\nimport { HashRouter, Route } from 'react-router-dom'\r\nimport * as ROUTES from './constants/route'\r\nimport { withAuthentication } from './components/auth'\r\nimport LandingPage from './landingpage'\r\nimport Signup from './signup'\r\nimport Login from './login'\r\nimport Home from './home'\r\n\r\n\r\nconst App = props => (\r\n    <HashRouter>\r\n        {props.loading ?\r\n            <React.Fragment>\r\n                <Loader active size='medium' inline='centered' />\r\n            </React.Fragment>\r\n            :\r\n            <React.Fragment>\r\n                <Route exact path={ROUTES.LANDING} component={LandingPage} />\r\n                <Route path={ROUTES.HOME} component={Home} />\r\n                <Route path={ROUTES.SIGN_IN} component={Login} />\r\n                <Route path={ROUTES.SIGN_UP} component={Signup} />\r\n            </React.Fragment>\r\n        }\r\n    </HashRouter>\r\n)\r\n\r\nexport default withAuthentication(App)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './js/app'\r\nimport './css/main.scss'\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport Firebase, { FirebaseContext } from './js/components/firebase'\r\n\r\nReactDOM.render(\r\n    <FirebaseContext.Provider value={new Firebase()}>\r\n        <App />\r\n    </FirebaseContext.Provider>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}